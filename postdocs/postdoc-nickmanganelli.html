<!doctype html>

<html lang="en-US">
    <head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">
<title>Post-doctoral researcher - US CMS Software and Computing</title>
<link rel="stylesheet" href="/assets/css/bootstrap.css" crossorigin="anonymous">
<link rel="stylesheet" href="/assets/css/style.css">
<script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js" integrity="sha384-SlE991lGASHoBfWbelyBPLsUlwY1GwNDJo3jSJO04KZ33K2bwfV9YBauFfnzvynJ" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</head>

  <body>

    
<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <div class="container">
        <a class="navbar-brand" href="/"><span><img height="64" src="/assets/logos/USCMS_SC_logo.png" alt="USCMS Software and Computing"></span>
          U.S. CMS Software and Computing
        </a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item dropdown active">
                    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">About</a>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <a class="dropdown-item" href="/about/overview">Overview</a>
                        <a class="dropdown-item" href="/about/team">Team</a>
                        <a class="dropdown-item" href="/docs">Documentation</a>
                    </div>
                </li>
                <li class="nav-item dropdown active">
                    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Areas</a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                        
                        
                        <a class="dropdown-item" href="/wbs1-facilities.html">Facilities</a>
                        
                        <a class="dropdown-item" href="/wbs2-software.html">Software</a>
                        
                        <a class="dropdown-item" href="/wbs3-operations.html">Operations</a>
                        
                        <a class="dropdown-item" href="/wbs4-facilities.html">HL-LHC R&D</a>
                        
                    </div>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="/postdocs">Research Initiative</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="/interns">Interns</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="/Contact">Contact</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

    



<div id="container">
  <div class="container">
    <main role="main">

      <div>
        <br>
        <center><h1>USCMS Researcher: Nick Manganelli</h1>

          <img src="/assets/images/team/Nick-Manganelli.jpg" width="150px">
          <br>
          <br>
          <b> Postdoc dates: </b>
          Jan 2023 - Jan 2025<br/>

          <br>
          <b> Home Institution:</b> University of Colorado Boulder
          <br>
          <br>
        </center>

        <br>
        <h3>Project: Advancing Machine Learning Inference with Columnar Analysis at CMS Analysis Facilities</h3>

        Develop and benchmark the usage of rapid Machine Learning Inference-as-a-Service together with columnar analysis in the Fermilab Elastic Analysis Facility for the next generation HL-LHC computing model.

        <br>
        <br>
        More information: <a href = "/assets/pdfs/MLInfColumnar.pdf">My project proposal</a><br>

        <br>
        <b>Mentors: </b> <br>
        <ul>
          
          <li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <p>Keith Ulmer (University of Colorado Boulder)</p>

            
          </li>
          
        </ul>
        


        <b>Presentations</b>
        <ul>
          
          
          <li>3 Apr 2023 - <a href="https://indico.cern.ch/event/1272845/contributions/5344724/attachments/2623810/4537142/NickManganelli_HLLHCR&D_03_04_2023.pdf">"Triton Inference and Columnar Analysis"</a>, Nick Manganelli, <a href="https://indico.cern.ch/event/1272845/">HL-LHC R&D Initiative Meeting</a>
            
          
          
          <li>10 Dec 2023 - <a href="https://github.com/nickmanganelli-sr/cofi-2023">"Basic tools and resources needed for machine learning"</a>, Nick Manganelli, <a href="https://indico.cern.ch/event/1299889">2nd COFI Advanced Instrumentation and Analysis Techniques School</a>
            
          
        </ul>
        <hr>

        <b>Current Status</b>
        <br>
        Benchmarks have been completed of the EAF's Scalable Nvidia Triton System. Simple scaling tests show that the simple comparison of serial requests for inference of a two-class ParticleNet model attain speedups of approximately 50x using Triton on a 2.20GB MIG slice of an A100 GPU at the EAF, relative to a typical worker node in the LPC interactive nodes. While benchmarking, we discovered inefficiencies in the scaling of the Triton system, which resulted in too many servers spinning up for the number of requests being received. After tuning, we attained linear scaling of net inference rate with Triton server instances, indicating near-ideal scale-up parameters for the models under test. Tests of the basic networking characteristics demonstrate that the kinds of models oftend deployed in analysis now, such as BDTs, can easily see slowdown using the Triton server infrastructure, due to the overhead of transmitting the inputs and outputs over the network. More compute-heavy models, such as ResNet50 and the aforementioned ParticleNet model, however, see notable and significant (respectively) gain due to the balance of computational (inference) time and network transmission time. Another result from our research is that the current default Triton behaviour with regards to simultaneously handling multiple models is not ideal. When multiple models are receiving inference requests on a given Triton server instance, each one builds and fills a request queue in main RAM. Due to contention for resources, whether it's in main RAM, over the PCIe Bus, for the GPU RAM, or compute, we see that inference efficiency can drop significantly, by approximately a factor of 5. This indicates that a better behaviour to orchestrate, when multiple models are being requested and when multiple servers are available, is to concentrate model requests of the same type (and potentially the same computation engine, such as torch or tensorflow) in the same server. Such capability is currently reserved for Nvidia AI Enterprise customers, however. Regardless, Triton proves to be a highly-efficienty ML Inference service, which is easy to use at the LPC/EAF, and can support requests from hundreds of worker nodes in parallel. The usage of this service by LPC analysts should be highly encouraged, in order to preserve other GPU usage for other tasks, such as model training. The paper has been submitted to CSBS and the arXiv: ["Optimizing High Throughput Inference on Graph Neural Networks at Shared Computing Facilities with the NVIDIA Triton Inference Server"](https://arxiv.org/abs/2312.06838)

        <br>
        <br>
        
        <b>Contact me:</b><br>
        <ul>
          
          <li>
            <i class="fas fa-envelope-square"></i><a href = "mailto:nmangane@cern.ch"> Send me an email</a><br>
          </li>
          
          
          
           
          
        </ul>

        <div>
          

        </div>

      </div>
    </main>
  </div>
  <footer>
  <div class="footer-dark">
    <div class="container">
      <div class="d-flex flex-row">
        <div class="footer-vertical-center">
          <div class="footer-logos">
            <div class="footer-logo">
              <img src="/assets/logos/USCMS_SC_logo.png" alt="USCMS logo">
            </div>
            <div class="footer-logo">
              <img src="/assets/logos/doe.png" alt="DOE logo">
            </div>
            <div class="footer-logo">
              <img src="/assets/logos/nsf-logo-128.png" alt="NSF logo">
            </div>

          </div>
        </div>

        <div class="footer-text p-2 ml-auto flex-grow-1 footer-vertical-center">

        </div>
        </div>
      </div>
    </div>
</footer>

</div>

</body>
</html>
